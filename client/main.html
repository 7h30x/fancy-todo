<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="google-signin-client_id" content="585432052787-t9mv33ugh38pbgthetfrdqubdfa2pa9g.apps.googleusercontent.com">
  <meta name="google-signin-callback" content="signinCallback" />
  <title>To-Do</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="vendor/simple-line-icons/css/simple-line-icons.css">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/new-age.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Start Bootstrap</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#download">Download</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#features">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href='#' onclick="signOut()">Sign Out</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <header class="masthead">
      <div class="container h-100">
        <div class="row h-100">
          <div class="col-lg-7 my-auto">
            <div class="header-content mx-auto">
              <br>
             
            </div>
          </div>
          <div class="col-lg-5 my-auto">
            <div class="device-container">
              <div class="device-mockup iphone6_plus portrait white">
                <div class="device">
                  <div class="screen">
                    <!-- Demo image for screen mockup, you can put an image here, some HTML, an animation, video, or anything else! -->
                  </div>
                  <div class="button">
                    <!-- You can hook the "home button" to some JavaScript events or just remove it -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <script>
    </script>
    <script src="https://apis.google.com/js/platform.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
    <script src="vendor/jquery/jquery.min.js"></script>
    <!-- sign in / sign out-->
    <script>
      function checkSignIn () {
        if(!localStorage.token) window.location.replace('./index.html') 
      }
      function signOut() {
        gapi.load('auth2', function() { // Ready. });
          console.log('gapi object loaded')
          gapi.auth2.init({
            client_id: '585432052787-t9mv33ugh38pbgthetfrdqubdfa2pa9g.apps.googleusercontent.com'
          });
          gapi.auth2.getAuthInstance()
          .then((auth2)=> {
            return auth2.signOut()
          })
          .then(function () {
            localStorage.removeItem('token');
            console.log('User signed out.');
            window.location = './index.html';
          })
          .catch(error => console.log(error));
        })
        
      }
      function loadCurrentUser () {
        function getToDos () {
          axios({
            method:'GET',
            url: 'http://localhost:3000/users'
          })
        }
        function getGroups () {
          axios({
            method:'GET',
            url:'http://localhost:3000/groups'
          })
        }
      }
      window.onload= ()=> {
        checkSignIn();
      }
    </script>
  </body>

</html>